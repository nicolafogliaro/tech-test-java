{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080/order-service","description":"Generated server url"}],"tags":[{"name":"Order API","description":"Endpoints for managing orders, including creation, retrieval, updating, deletion, searching"},{"name":"Product API","description":"Endpoints for managing products, including creation, retrieval, updating, and deletion."},{"name":"Cache API","description":"Utility to clean cache."}],"paths":{"/api/v1/products/{id}":{"get":{"tags":["Product API"],"summary":"Get product by ID","description":"Retrieve a specific product by providing its ID.","operationId":"getProductById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Product found and details retrieved successfully.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"404":{"description":"Product with specified ID not found.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}}}},"put":{"tags":["Product API"],"summary":"Update a product","description":"Update the details of an existing product.","operationId":"updateProduct","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductRequest"}}},"required":true},"responses":{"200":{"description":"Product updated successfully.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"404":{"description":"Product with specified ID not found.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}}}},"delete":{"tags":["Product API"],"summary":"Delete a product","description":"Delete a product from the system.","operationId":"deleteProduct","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Product deleted successfully."},"404":{"description":"Product with specified ID not found."}}}},"/api/v1/orders/{id}":{"get":{"tags":["Order API"],"operationId":"getOrderById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}}}},"put":{"tags":["Order API"],"operationId":"updateOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}}}},"delete":{"tags":["Order API"],"operationId":"deleteOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"No Content"}}}},"/api/v1/products":{"get":{"tags":["Product API"],"summary":"Get all products","description":"Retrieve all products in the system.","operationId":"getAllProducts","responses":{"200":{"description":"List of all products retrieved successfully.","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponse"}}}}}}},"post":{"tags":["Product API"],"summary":"Create a product","description":"Create a new product in the system.","operationId":"createProduct","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductRequest"}}},"required":true},"responses":{"201":{"description":"Product created successfully.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}}}}},"/api/v1/orders":{"post":{"tags":["Order API"],"operationId":"createOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}}}}},"/api/v1/orders/search":{"post":{"tags":["Order API"],"operationId":"searchOrders","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderSearchCriteria"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageOrderResponse"}}}}}}},"/api/v1/orders/search/engine":{"post":{"tags":["Order API"],"operationId":"searchOrdersWithSearchEngine","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderSearchCriteria"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageOrderResponse"}}}}}}},"/api/v1/cache/clearCache":{"get":{"tags":["Cache API"],"operationId":"clearCache","responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"UpdateProductRequest":{"type":"object","properties":{"name":{"type":"string","description":"New name of the product. If not provided, the name remains unchanged.","example":"Advanced Tablet","maxLength":255,"minLength":0},"description":{"type":"string","description":"New description of the product. If not provided, the description remains unchanged.","example":"A more advanced and lightweight tablet with extra features.","maxLength":1000,"minLength":0},"price":{"type":"number","description":"New price of the product. Must be greater than 0 if provided.","example":599.99},"stockQuantity":{"type":"integer","format":"int32","description":"New stock quantity of the product. Must be 0 or greater if provided.","example":50}}},"ProductResponse":{"type":"object","description":"Response object representing a product.","properties":{"id":{"type":"integer","format":"int64","description":"Unique identifier of the product.","example":1},"name":{"type":"string","description":"Name of the product.","example":"Laptop"},"description":{"type":"string","description":"Short description of the product.","example":"A high-performance laptop with 16GB RAM."},"price":{"type":"number","description":"Price of the product.","example":999.99},"stockQuantity":{"type":"integer","format":"int32","description":"Current stock quantity of the product.","example":100},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the product was created","example":"2025-05-14T13:45:30"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the product was last updated","example":"2025-05-14T14:15:22"}}},"OrderItemRequest":{"type":"object","description":"Represents an item to be included in an order, specifying the product and quantity.","properties":{"productId":{"type":"integer","format":"int64","description":"The unique identifier of the product to be ordered.","example":101},"quantity":{"type":"integer","format":"int32","description":"The number of units of the product to be ordered. Must be at least 1.","example":2,"minimum":1}},"required":["productId","quantity"]},"UpdateOrderRequest":{"type":"object","description":"Payload for updating an existing order. All fields are optional. Only provided fields will be considered for updating the order resource. Providing a new 'items' list replaces all existing items.","properties":{"customerId":{"type":"integer","format":"int64","description":"The new unique identifier of the customer associated with this order. If not provided or null, the customer association remains unchanged.","example":456},"orderDescription":{"type":"string","description":"A new descriptive text for the order. If not provided or null, the order description remains unchanged.","example":"Updated order: please ensure gift wrapping for item X."},"status":{"type":"string","description":"The new status of the order. If not provided or null, the order status remains unchanged.","enum":["CREATED","PENDING","CONFIRMED","PROCESSING","SHIPPED","DELIVERED","COMPLETED","CANCELED","RETURNED","REFUNDED","FAILED"],"example":"PROCESSING"},"items":{"type":"array","items":{"$ref":"#/components/schemas/OrderItemRequest","description":"A list of order items. If provided, this list will replace all existing items associated with the order. An empty list will remove all items. If null or not provided, the items remain unchanged.","minItems":0},"minItems":0}}},"OrderItemResponse":{"type":"object","description":"Represents an individual item within an order, detailing product, quantity, and pricing.","properties":{"id":{"type":"integer","format":"int64","description":"Unique identifier for the order item.","example":101},"productId":{"type":"integer","format":"int64","description":"Unique identifier of the product associated with this order item.","example":789},"productName":{"type":"string","description":"Name of the product.","example":"Wireless Mouse"},"productDescription":{"type":"string","description":"Brief description of the product.","example":"Ergonomic wireless optical mouse"},"quantity":{"type":"integer","format":"int32","description":"Quantity of this product ordered.","example":2},"unitPrice":{"type":"number","format":"double","description":"Price of a single unit of the product.","example":25.99},"subtotalPrice":{"type":"number","format":"double","description":"Total price for this order item (quantity * unitPrice).","example":51.98}},"required":["id","productId","productName","quantity","subtotalPrice","unitPrice"]},"OrderResponse":{"type":"object","description":"Representation of an order with its details","properties":{"id":{"type":"integer","format":"int64","description":"Unique identifier of the order","example":1001},"customerId":{"type":"integer","format":"int64","description":"Identifier of the customer who placed this order","example":5001},"description":{"type":"string","description":"Text description or notes for the order","example":"Priority shipment for VIP customer"},"status":{"type":"string","description":"Current status of the order","enum":["CREATED","PROCESSING","SHIPPED","DELIVERED","CANCELLED"],"example":"PROCESSING"},"totalAmount":{"type":"number","description":"Total monetary amount of the order","example":129.99},"items":{"type":"array","items":{"$ref":"#/components/schemas/OrderItemResponse"}},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the order was created","example":"2025-05-14T13:45:30"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the order was last updated","example":"2025-05-14T14:15:22"}}},"CreateProductRequest":{"type":"object","description":"Request object for creating or updating a product.","properties":{"name":{"type":"string","description":"Name of the product.","example":"Tablet","maxLength":255,"minLength":0},"description":{"type":"string","description":"Short description of the product.","example":"A lightweight and portable tablet.","maxLength":1000,"minLength":0},"price":{"type":"number","description":"Price of the product.","example":499.99},"stockQuantity":{"type":"integer","format":"int32","description":"Initial or updated stockQuantity quantity of the product.","example":50}},"required":["name","price","stockQuantity"]},"OrderRequest":{"type":"object","description":"Order creation request","properties":{"customerId":{"type":"integer","format":"int64","description":"Unique identifier of the customer","example":1001},"orderDescription":{"type":"string","description":"Description or notes for the order","example":"Rush delivery requested","maxLength":500,"minLength":0},"status":{"type":"string","default":"PENDING","description":"Order status","enum":["CREATED","PENDING","CONFIRMED","PROCESSING","SHIPPED","DELIVERED","COMPLETED","CANCELED","RETURNED","REFUNDED","FAILED"],"example":"PENDING"},"items":{"type":"array","description":"Line items included in this order","items":{"$ref":"#/components/schemas/OrderItemRequest","maxItems":100,"minItems":1},"maxItems":100,"minItems":1}},"required":["customerId","items","orderDescription"]},"OrderSearchCriteria":{"type":"object","description":"Criteria for searching orders.","properties":{"customerId":{"type":"integer","format":"int64","description":"The unique identifier of the customer.","example":12345},"query":{"type":"string","description":"Query string for text search (e.g., product name, order description).","example":"IPhone"},"startDate":{"type":"string","format":"date","description":"Start date for the search range (inclusive), in yyyy-MM-dd format.","example":"2025-01-01"},"endDate":{"type":"string","format":"date","description":"End date for the search range (inclusive), in yyyy-MM-dd format.","example":"2025-12-31"},"page":{"type":"integer","format":"int32","default":"0","description":"Page number for pagination (0-indexed).","example":0,"minimum":0},"size":{"type":"integer","format":"int32","default":"20","description":"Number of items per page.","example":10,"maximum":100,"minimum":1},"sort":{"type":"string","default":"createdAt","description":"Field to sort the results by.","example":"createdAt"},"direction":{"type":"string","default":"desc","description":"Sort direction.","enum":["asc","desc"],"example":"asc","pattern":"asc|desc"}}},"PageOrderResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/OrderResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"sorted":{"type":"boolean"},"empty":{"type":"boolean"},"unsorted":{"type":"boolean"}}}}}}